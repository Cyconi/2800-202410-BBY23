<%- include("template/header") %>
    <style>
        @media (max-width: 767.5px) {
            .btn {
                padding: 5px 10px;
                font-size: 12px;
            }
        }
    </style>

    <% if (good) { %>
        <div class="container mt-4">
            <h2 class="text-center"><span class="name"></span>'s<br> Good Habits</h2>
            <br><br>
            <ul class="list-group list-group-flush">
                <% if (habits.length===0) { %>
                    <div style="display: flex; justify-content: center;">
                        <div class="alert alert-info d-flex align-items-center" role="alert">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16"
                                role="img" aria-label="Info:" style="width: 1em; height: 1em;">
                                <path
                                    d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" />
                            </svg>
                            <div>
                                You have no good habits! Add some! Everyone wants good habits!
                            </div>
                        </div>
                    </div>
                    <% } else { %>
                        <% habits.forEach(habit=> { %>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <%= habit.habit %>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <form action="/habit/editHabit" method="POST" class="me-1 me-sm-2">
                                            <input type="hidden" name="habitID" value="<%= habit.id %>">
                                            <input type="hidden" name="habitGood" value="<%= habit.good %>">
                                            <button type="button" class="btn btn-secondary">Edit</button>
                                        </form>
                                        <form action="/habit/deleteHabit" method="POST" class="delete-form">
                                            <input type="hidden" name="habitID" value="<%= habit.id %>">
                                            <input type="hidden" name="habitGood" value="<%= habit.good %>">
                                            <button type="submit" class="btn btn-danger">Delete</button>
                                        </form>
                                    </div>
                            </li>
                            <% }); %>
                                <% } %>
            </ul>
            <form action="/habit/goodHabitAdd" method="POST" class="mt-3 text-center">
                <button type="submit" class="btn btn-primary">Add a Habit</button>
            </form>
        </div>
        <% } else { %>
            <div class="container mt-4">
                <h2 class="text-center"><span class="name"></span>'s<br> Bad Habits</h2>
                <br><br>
                <ul class="list-group list-group-flush">
                    <% if (habits.length===0) { %>
                        <div style="display: flex; justify-content: center;">
                            <div class="alert alert-info d-flex align-items-center" role="alert">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16"
                                    role="img" aria-label="Info:" style="width: 1em; height: 1em;">
                                    <path
                                        d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" />
                                </svg>
                                <div>
                                    You have no bad habits! Add some! Everyone has bad habits!
                                </div>
                            </div>
                        </div>
                        <% } %>
                            <% habits.forEach(habit=> { %>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <%= habit.habit %>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <form action="/habit/editHabit" method="POST" class="me-1 me-sm-2">
                                                <input type="hidden" name="habitID" value="<%= habit.id %>">
                                                <input type="hidden" name="habitGood" value="<%= habit.good %>">
                                                <button type="button" class="btn btn-secondary">Edit</button>
                                            </form>
                                            <form action="/habit/deleteHabit" method="POST" class="delete-form">
                                                <input type="hidden" name="habitID" value="<%= habit.id %>">
                                                <input type="hidden" name="habitGood" value="<%= habit.good %>">
                                                <button type="submit" class="btn btn-danger">Delete</button>
                                            </form>
                                        </div>
                                </li>
                                <% }); %>
                </ul>
                <form action="/habit/badHabitAdd" method="POST" class="mt-3 text-center">
                    <button type="submit" class="btn btn-primary">Add a Habit</button>
                </form>
            </div>
            <% } %>

                <div class="modal modal-sheet position-fixed top-0 start-0 p-4 py-md-5" tabindex="-1" role="dialog"
                    id="modalTour">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content rounded-4 shadow">
                            <div class="modal-body p-5">
                                <h2 class="fw-bold mb-0">Success!</h2>

                                <ul class="d-grid gap-4 my-5 list-unstyled small">
                                    <li class="d-flex gap-4">
                                        <img src="/img/success-icon.png" alt="Icon" width="48" height="48" class="text-body-secondary flex-shrink-0">
                                        <div>
                                            <h5 class="mb-0">Habit Deleted</h5>
                                            You have successfully deleted this habit.
                                        </div>
                                    </li>
                                    
                                    <!-- <li class="d-flex gap-4">
                                        <svg class="bi text-warning flex-shrink-0" width="48" height="48">
                                            <use xlink:href="#bookmark-star" />
                                        </svg>
                                        <div>
                                            <h5 class="mb-0">Bookmarks</h5>
                                            Save items you love for easy access later.
                                        </div>
                                    </li>
                                    <li class="d-flex gap-4">
                                        <svg class="bi text-primary flex-shrink-0" width="48" height="48">
                                            <use xlink:href="#film" />
                                        </svg>
                                        <div>
                                            <h5 class="mb-0">Video embeds</h5>
                                            Share videos wherever you go.
                                        </div>
                                    </li> -->
                                </ul>
                                <button type="button" class="btn btn-lg btn-primary mt-5 w-100"
                                    data-bs-dismiss="modal">Great, thanks!</button>
                            </div>
                        </div>
                    </div>
                </div>


                <script src="/js/habitC.js"></script>
                <%- include("template/footer") %>